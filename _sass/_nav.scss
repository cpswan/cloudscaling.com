/**
 * Site header
 */
.site-header {
	min-height: $nav-height;
	// Positioning context for the mobile navigation icon
	background-color: $grey-color;
	position: fixed;
	width: 100%;

	@media (min-width: $content-width){
		position: relative;
	}
}

.site-title {
	font-size: 26px;
	line-height: $nav-height;
	letter-spacing: -1px;
	margin-bottom: 0;
	float: left;
	min-width: 160px;

	img {
		border: none;
	}

	&,
	&:visited {
		color: $grey-color-dark;
	}
	.site-subtitle {
		display: block;
		font-size: 11px;
		color: white;
	}
}

.site-nav {
	float: right;
	position: relative;
	line-height: 113px;
	text-align: right;

	h2 {
		display: none;
	}

	.featured-posts {
		display: block;

		@media (min-width: $content-width){
			display: none;
		}
	}

	#nav-search {
		background-color: transparent;
		border: none;
		outline: none;
		line-height: 20px;
		min-width: 0;
		font-size: 18px;
		border-bottom: solid 1px #000000;
		border-radius: 0;
		padding: 0;
	}

	#mobile-open {
		border-radius: 100%;
		border: 2px solid #000000;
		float: left;
		width: 40px;
		height: 40px;
		z-index: 3;
		position: absolute;
		display: block;
		top: 30px;
		right: 0;
		max-width: none;
		cursor: pointer;

		span {
			display: block;
			position: absolute;
			width: 24px;
			height: 2px;
			background: #000000;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);

			&:nth-child(2) {
				top: calc(50% - 5px);
			}

			&:nth-child(3) {
				top: calc(50% + 5px);
			}
		}

		@media (min-width: $content-width){
			display: none;
		}
	}

	.mobile-popout {
		display: none;

		@media (min-width: $content-width){
			display: block;
		}
	}

	@media (max-width: #{$content-width - 1}) {
		&.nav-open {
			line-height: 0;

			h2 {
				font-size: 20px;
				margin: 2% auto 1% auto;
				display: block;
			}

			#nav-search {
				background-color: transparent;
				border: none;
				outline: none;
				line-height: 20px;
				min-width: 80%;
				font-size: 22px;
				border-radius: 0;
				padding: 25px 0;
			}

			#mobile-open {

				span {
					top: 50%;
					left: 20%;
					width: 60%;

					&:nth-child(1) {
						-webkit-transform: rotate(45deg);
						-moz-transform: rotate(45deg);
						-o-transform: rotate(45deg);
						-ms-transform: rotate(45deg);
						transform: rotate(45deg);
					}

					&:nth-child(2) {
						-webkit-transform: rotate(-45deg);
						-moz-transform: rotate(-45deg);
						-o-transform: rotate(-45deg);
						-ms-transform: rotate(-45deg);
						transform: rotate(-45deg);
					}

					&:nth-child(3) {
						display: none;
					}
				}
			}

			.mobile-popout {
				display: block;
				position: fixed;
				text-align: center;
				left: 0;
				top: 113px;
				width: 100%;
				background: #FFFFFF;
				border-bottom: solid 5px #FFFFFF;

				&:after {
					content: '';
					background: #FFFFFF;
					width: 100%;
					height: 100vh;
					position: absolute;
					left: 0;
				}
			}

			#global-search {
				border-bottom: solid 10px #e2e2e2;

				.search-icon {
					img {
						width: 30px;
						height: 30px;
						margin-top: -4px;
						position: absolute;
						top: 25px;
						right: 30px;
					}
				}
			}

			.featured-posts {
				text-align: left;
				width: 95%;
				margin: auto;

				h2 {
					font-weight: bold;
				}
				ul {
					margin: 0;
					padding: 0;

					li {
						list-style-type: none;
						border-top: solid 1px #e2e2e2;
						padding: 5px 0;

						a {
							line-height: #{$base-line-height * .8};
						}

						&:last-child {
							border-bottom: solid 1px #e2e2e2;
						}
					}
				}
			}
		}
	}

	.menu-icon {
		display: none;
		
	}


	.page-link {
		color: $text-color;
		line-height: $base-line-height;

		// Gaps between nav items, but not on the first one
		&:not(:first-child) {
			margin-left: 20px;
		}
	}
}


/**
 * Site footer
 */

 .site-footer {
 	border-top: 1px solid $grey-color-light;
 	padding: $spacing-unit 0;
 	background-color: $grey-color-footer;
 	color: $footer-text-color !important;
 }

 .footer-heading {
 	font-size: 15px;
 	margin-bottom: 10px;
 	@include media-query($on-palm) {
 		line-height: 20px;
 		font-size:12px;
 	}
 }

 .footer-col-wrapper {
 	font-size: 15px !important;
 	margin-left: -$spacing-unit / 2;
 	p {
 		color: $footer-text-color !important;
 		line-height: initial;
 	}
 	h2 {
 		color: $footer-text-color !important;
 	}
 	.common {
 		color: $footer-text-color !important;
 		font-weight: normal;
 	}
 	@extend %clearfix;
 	.footer-span {
 		padding-left: $spacing-unit / 2;
 		@include media-query($on-palm) {
 			float: none;
 			width: -webkit-calc(100% - (#{$spacing-unit} / 2));
 			width:         calc(100% - (#{$spacing-unit} / 2));
 		}
 		&.span-1-2 {
 			float: left;
 			width: -webkit-calc(50% - (#{$spacing-unit} / 2));
 			width: calc(50% - (#{$spacing-unit} / 2));
 			@include media-query($on-palm) {
 				width: -webkit-calc(100% - (#{$spacing-unit} / 2));
 				width: calc(100% - (#{$spacing-unit} / 2));
 			}
 		}
 	}
 	.icon-cc {
 		width: 220px;
		max-height: 75px;
 		@include media-query($on-palm) {
			width: 120px;
		}
 	}
 	.social-media-list {
 		list-style: none;
 		margin-left: 0;
 		float: right;
 		@include media-query($on-laptop) {
 			float: left;
 		}
 		li {
 			float: left;
 			margin-right: 15px;
 			&:last-child {
 				margin-right: 0px;
 			}
 		}
 	}
 	.footer-col {
 		margin-bottom: $spacing-unit / 2;
 		padding-left: $spacing-unit / 2;
 		@include media-query($on-palm) {
 			float: none;
 			width: -webkit-calc(100% - (#{$spacing-unit} / 2));
 			width:         calc(100% - (#{$spacing-unit} / 2));
 		}
 		&.footer-col-1 {
 			float: left;
 			@include media-query($on-palm) {
 				width: -webkit-calc(30% - (#{$spacing-unit} / 2));
 				width: calc(30% - (#{$spacing-unit} / 2));
 			}
 		}

 		&.footer-col-2 {
 			float: left;
 			width: -webkit-calc(30% - (#{$spacing-unit} / 2));
 			width: calc(30% - (#{$spacing-unit} / 2));
 			@include media-query($on-palm) {
 				width: -webkit-calc(50% - (#{$spacing-unit} / 2));
 				width: calc(50% - (#{$spacing-unit} / 2));
 			}
 		}

 		&.footer-col-3 {
 			float: right;
 			width: -webkit-calc(45% - (#{$spacing-unit} / 2));
 			width: calc(45% - (#{$spacing-unit} / 2));
 			@include media-query($on-palm) {
 				width: -webkit-calc(20% - (#{$spacing-unit} / 2));
 				width: calc(20% - (#{$spacing-unit} / 2));
 			}
 		}
 		p {
 			font-size: 15px;
 			@include media-query($on-palm) {
				font-size: 12px;
			}
 		}
 		@include media-query($on-laptop) {
 			&.footer-col-1,
 			&.footer-col-2 {
 				width: -webkit-calc(100% - (#{$spacing-unit} / 2));
 				width:         calc(100% - (#{$spacing-unit} / 2));
 			}

 			&.footer-col-3 {
 				width: -webkit-calc(100% - (#{$spacing-unit} / 2));
 				width:         calc(100% - (#{$spacing-unit} / 2));
 			}
 		}
 	}
 }
.search-wrapper {
	.wrapper {
		position: relative;
	}
	#site_search {
		position: relative;
		#submit_search {
			float:right;
			position: absolute;
			right:0;
			top:15px;
			font-size:15px;
			bottom:0;
		}
		.nav-search-input {
			width:100%;
			padding-left:0;
			padding-right:0;
			#inner-editor {
				padding-left:15px;
			}
		}
	}
}
